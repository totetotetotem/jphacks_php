<?xml version="1.0" encoding="UTF-8" ?>
<database xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		  xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/propelorm/Propel2/master/resources/xsd/database.xsd"
		  name="fresh_fridge" namespace="ORM">
	<table name="family">
		<column name="family_id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
	</table>
	<table name="user">
		<column name="user_id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
		<column name="family_id" type="integer" required="true"/>
		<column name="access_token" type="varchar" size="255" required="true"/>
        <column name="line_id" type="varchar" size="64" />
		<unique>
			<unique-column name="access_token"/>
		</unique>
		<foreign-key foreignTable="family">
			<reference local="family_id" foreign="family_id"/>
		</foreign-key>
	</table>
	<table name="item">
		<column name="item_id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
		<column name="family_id" type="integer" required="true"/>
		<foreign-key foreignTable="family">
			<reference local="family_id" foreign="family_id"/>
		</foreign-key>
        <column name="item_name" type="varchar" size="255" required="true"/>
        <column name="expire_date" type="timestamp" required="true" />
	</table>
</database>
